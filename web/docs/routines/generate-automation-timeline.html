<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automation Timeline Generation - Universal Automation Wiki</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/components.css">
    <link rel="stylesheet" href="/assets/css/category.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <link rel="stylesheet" href="/assets/css/documentation.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700&family=Geologica:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Placeholder styles to prevent layout shift */
        #header-placeholder { min-height: 70px; }
        #footer-placeholder { min-height: 250px; }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="docs-container">
        <div class="docs-layout">
            <div id="sidebar-placeholder"></div>

            <main class="docs-main">
                <article class="docs-article">
                    <header class="docs-header">
                        <div class="docs-breadcrumb">
                            <nav aria-label="Breadcrumb">
                                <ol>
                                    
                                        
                                            <li><a href="/">Home</a></li>
                                        
                                    
                                        
                                            <li><a href="/docs/">Documentation</a></li>
                                        
                                    
                                        
                                            <li><a href="/docs/routines/">Routines</a></li>
                                        
                                    
                                        
                                            <li aria-current="page">Automation Timeline Generation</li>
                                        
                                    
                                </ol>
                            </nav>
                        </div>
                        
                        <div class="docs-title-section">
                            <h1 class="docs-page-title">Automation Timeline Generation</h1>
                            
                            <p class="docs-page-subtitle">This script generates a historical timeline and future predictions for automation technologies related to a specific topic. It utilizes a Large Language Model (LLM) to create the timeline content based on the provided topic.</p>
                            
                        </div>
                    </header>

                    <div class="docs-content">
                        <p>This script generates a historical timeline and future predictions for automation technologies related to a specific topic. It utilizes a Large Language Model (LLM) to create the timeline content based on the provided topic.</p>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h2>
<p>The primary goal of this script is to produce a structured timeline detailing the evolution and projected future of automation within a given domain. It leverages an LLM to synthesize historical data and make informed predictions.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>The script is executed from the command line:</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>generate_automation_timeline.py<span class="w"> </span>&lt;input_json&gt;<span class="w"> </span><span class="o">[</span>output_json<span class="o">]</span><span class="w"> </span><span class="o">[</span>-saveInputs<span class="o">]</span><span class="w"> </span><span class="o">[</span>-uuid<span class="o">=</span><span class="s2">&quot;UUID&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>-flow_uuid<span class="o">=</span><span class="s2">&quot;FLOW-UUID&quot;</span><span class="o">]</span>
</code></pre></div>

<p><strong>Arguments:</strong></p>
<ul class="docs-list">
<li><code class="docs-inline-code">&lt;input_json&gt;</code>: (Required) Path to the input JSON file containing the topic and configuration.</li>
<li><code class="docs-inline-code">[output_json]</code>: (Optional) Path where the output JSON timeline should be saved. If not provided, a default path is generated based on the topic and a UUID.</li>
<li><code class="docs-inline-code">-saveInputs</code>: (Optional) Flag to save the system and user prompts sent to the LLM into the <code class="docs-inline-code">flow/&lt;flowUUID&gt;/inputs/</code> directory. Requires <code class="docs-inline-code">-flow_uuid</code> to be set.</li>
<li><code class="docs-inline-code">-uuid="UUID"</code>: (Optional) Custom UUID to use for the output file generation.</li>
<li><code class="docs-inline-code">-flow_uuid="FLOW-UUID"</code>: (Optional) UUID representing the overarching flow this script execution is part of. Used for organizing saved inputs if <code class="docs-inline-code">-saveInputs</code> is active.</li>
</ul>
<h2 id="input-files">Input Files<a class="headerlink" href="#input-files" title="Permanent link">&para;</a></h2>
<p>The script expects an input JSON file (<code class="docs-inline-code">&lt;input_json&gt;</code>) with the following structure:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Your Automation Topic&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gemma3&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Or another LLM model identifier</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Optional LLM parameters (e.g., temperature, top_p)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;timeline&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Optional: If provided, bypasses LLM generation</span>
<span class="w">    </span><span class="nt">&quot;historical&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;1920s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Description...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// ... other decades</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;predictions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2030s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Prediction...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// ... other future decades</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul class="docs-list">
<li><code class="docs-inline-code">topic</code>: The subject for which the automation timeline should be generated.</li>
<li><code class="docs-inline-code">model</code>: The identifier for the LLM to use (defaults to "gemma3" if not specified).</li>
<li><code class="docs-inline-code">parameters</code>: An object containing any specific parameters to pass to the LLM during generation.</li>
<li><code class="docs-inline-code">timeline</code>: (Optional) If this key exists and contains <code class="docs-inline-code">historical</code> and <code class="docs-inline-code">predictions</code> objects, the script will use this data directly instead of querying the LLM.</li>
</ul>
<h2 id="key-functions">Key Functions<a class="headerlink" href="#key-functions" title="Permanent link">&para;</a></h2>
<ul class="docs-list">
<li><strong><code class="docs-inline-code">generate_automation_timeline(input_data, save_inputs=False)</code></strong>:<ul class="docs-list">
<li>Extracts <code class="docs-inline-code">topic</code>, <code class="docs-inline-code">model</code>, and <code class="docs-inline-code">parameters</code> from the input data.</li>
<li>Checks if a <code class="docs-inline-code">timeline</code> already exists in the input; if so, returns it directly.</li>
<li>Constructs system and user prompts for the LLM, requesting a historical timeline (by decade, 1920s-present) and future predictions (by decade until full automation).</li>
<li>Optionally saves the prompts using <code class="docs-inline-code">utils.saveToFile</code> if <code class="docs-inline-code">save_inputs</code> is True.</li>
<li>Calls <code class="docs-inline-code">utils.chat_with_llm</code> to interact with the specified LLM.</li>
<li>Parses the expected JSON response using <code class="docs-inline-code">utils.parse_llm_json_response</code>.</li>
<li>Returns the parsed timeline dictionary or <code class="docs-inline-code">None</code> on error.</li>
</ul>
</li>
<li><strong><code class="docs-inline-code">main()</code></strong>:<ul class="docs-list">
<li>Handles command-line arguments using <code class="docs-inline-code">utils.handle_command_args</code>.</li>
<li>Sets the global <code class="docs-inline-code">flowUUID</code> if provided.</li>
<li>Loads the input JSON using <code class="docs-inline-code">utils.load_json</code>.</li>
<li>Calls <code class="docs-inline-code">generate_automation_timeline</code> to get the timeline data.</li>
<li>Determines the output file path using <code class="docs-inline-code">utils.get_output_filepath</code>.</li>
<li>Creates process metadata (script name, start time, UUID) using <code class="docs-inline-code">utils.create_output_metadata</code>.</li>
<li>Combines metadata and the generated <code class="docs-inline-code">timeline</code> into the final output data structure.</li>
<li>Saves the output data to the determined path using <code class="docs-inline-code">utils.save_output</code>.</li>
</ul>
</li>
<li><strong><code class="docs-inline-code">utils</code> Functions</strong>: The script relies on helper functions imported from <code class="docs-inline-code">utils.py</code> for common tasks like loading/saving JSON (<code class="docs-inline-code">load_json</code>, <code class="docs-inline-code">save_output</code>, <code class="docs-inline-code">saveToFile</code>), interacting with the LLM (<code class="docs-inline-code">chat_with_llm</code>), parsing LLM responses (<code class="docs-inline-code">parse_llm_json_response</code>), creating metadata (<code class="docs-inline-code">create_output_metadata</code>), determining file paths (<code class="docs-inline-code">get_output_filepath</code>), and handling arguments (<code class="docs-inline-code">handle_command_args</code>).</li>
</ul>
<h2 id="llm-interaction">LLM Interaction<a class="headerlink" href="#llm-interaction" title="Permanent link">&para;</a></h2>
<ol class="docs-list docs-list-ordered">
<li><strong>Prompt Construction</strong>: A system prompt instructs the LLM to act as an AI specialized in automation timelines. The user prompt specifies the <code class="docs-inline-code">topic</code> and requests:<ul class="docs-list">
<li>Historical developments by decade (1920s-present).</li>
<li>Future predictions by decade until full automation.</li>
<li>Output formatted as a JSON object with <code class="docs-inline-code">historical</code> and <code class="docs-inline-code">predictions</code> keys, where each key holds an object mapping decades (e.g., "1950s", "2040s") to descriptive strings.</li>
</ul>
</li>
<li><strong>API Call</strong>: The <code class="docs-inline-code">chat_with_llm</code> function sends these prompts to the specified LLM (<code class="docs-inline-code">model</code>).</li>
<li><strong>Response Parsing</strong>: The script expects the LLM to return a valid JSON string matching the requested format. <code class="docs-inline-code">parse_llm_json_response</code> attempts to decode this JSON.</li>
<li><strong>Bypass</strong>: If the input JSON already contains a <code class="docs-inline-code">timeline</code> key, the LLM interaction steps are skipped entirely, and the provided timeline is used instead.</li>
</ol>
<h2 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h2>
<p>The script generates a JSON file (at <code class="docs-inline-code">[output_json]</code> or a default path) containing:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;process_metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;script_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Automation Timeline Generation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YYYY-MM-DD HH:MM:SS.ffffff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YYYY-MM-DD HH:MM:SS.ffffff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;duration_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">12.345</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;generated-or-provided-uuid&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;timeline&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;historical&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;1920s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// ... other decades</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;predictions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2030s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// ... other future decades</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul class="docs-list">
<li><code class="docs-inline-code">process_metadata</code>: Information about the script execution.</li>
<li><code class="docs-inline-code">timeline</code>: The core output, containing the <code class="docs-inline-code">historical</code> and <code class="docs-inline-code">predictions</code> data, either generated by the LLM or taken directly from the input file.</li>
</ul>
                    </div>
                    
                    <footer class="docs-footer">
                        <div class="docs-meta">
                            <p>Part of the <a href="/">Universal Automation Wiki</a> documentation</p>
                        </div>
                    </footer>
                </article>
            </main>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="/assets/js/components.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'neutral',
            themeVariables: {
                primaryColor: '#126ca8',
                primaryTextColor: '#333',
                primaryBorderColor: '#e0e0e0',
                lineColor: '#666'
            }
        });
    </script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/documentation.js"></script>
    <script>renderDocumentationSidebar('#sidebar-placeholder');</script>
</body>
</html>